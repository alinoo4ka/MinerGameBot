
import logging
import time

from aiogram import types
from aiogram.enums import ParseMode
from aiogram.exceptions import TelegramBadRequest

async def is_admin(bot: types.Bot, chat_id: int, user_id: int) -> bool:
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —á–∞—Ç–∞."""
    try:
        chat_member = await bot.get_chat_member(chat_id=chat_id, user_id=user_id)
        return chat_member.status in ("administrator", "creator")
    except TelegramBadRequest as e:
        logging.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–µ: {e}")
        return False

async def process_mban_command(message: types.Message):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /mban. –ë–∞–Ω–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Ç–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Ç–≤–µ—Ç–∏–ª–∏.
    –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
    """

    —è–≤–ª—è–µ—Ç—Å—è_–ª–∏_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_–∞–¥–º–∏–Ω–æ–º = await is_admin(message.bot, message.chat.id, message.from_user.id)

    if not —è–≤–ª—è–µ—Ç—Å—è_–ª–∏_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_–∞–¥–º–∏–Ω–æ–º:
        await message.reply("üö´ –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.", parse_mode=ParseMode.HTML)
        return

    if not message.reply_to_message:
        await message.reply("üö´ –≠—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ—Ç–≤–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–±–∞–Ω–∏—Ç—å.", parse_mode=ParseMode.HTML)
        return

    id_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–±–∞–Ω–∞ = message.reply_to_message.from_user.id
    –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–±–∞–Ω–∞ = message.reply_to_message.from_user.username
    –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–±–∞–Ω–∞_–æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ = message.reply_to_message.from_user.first_name

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ü–µ–ª—å —Ç–æ–∂–µ –∞–¥–º–∏–Ω–æ–º
    —è–≤–ª—è–µ—Ç—Å—è_–ª–∏_—Ü–µ–ª—å_–∞–¥–º–∏–Ω–æ–º = await is_admin(message.bot, message.chat.id, id_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–±–∞–Ω–∞)
    if —è–≤–ª—è–µ—Ç—Å—è_–ª–∏_—Ü–µ–ª—å_–∞–¥–º–∏–Ω–æ–º:
        await message.reply("üö´ –ù–µ–ª—å–∑—è –∑–∞–±–∞–Ω–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.", parse_mode=ParseMode.HTML)
        return

    try:
        bot = message.bot
        await bot.ban_chat_member(
            chat_id=message.chat.id,
            user_id=id_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–±–∞–Ω–∞
        )

        await message.reply(f"‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–±–∞–Ω–∞_–æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ} (@{–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–±–∞–Ω–∞}, ID: {id_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–±–∞–Ω–∞}) –±—ã–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–±–∞–Ω–µ–Ω –≤ —ç—Ç–æ–º —á–∞—Ç–µ.",
                            parse_mode=ParseMode.HTML)

    except TelegramBadRequest as e:
        logging.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –±–∞–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Ç–µ: {e}")
        await message.reply("üö´ –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –±–∞–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Ç–µ. –í–æ–∑–º–æ–∂–Ω–æ, —É –±–æ—Ç–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤.",
                            parse_mode=ParseMode.HTML)
    except Exception as e:
        logging.exception(f"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –±–∞–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {e}")
        await message.reply("üö´ –ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –±–∞–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.", parse_mode=ParseMode.HTML)


async def process_munban_command(message: types.Message):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /munban. –°–Ω–∏–º–∞–µ—Ç –±–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Ç–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Ç–≤–µ—Ç–∏–ª–∏.
    –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
    """

    —è–≤–ª—è–µ—Ç—Å—è_–ª–∏_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_–∞–¥–º–∏–Ω–æ–º = await is_admin(message.bot, message.chat.id, message.from_user.id)

    if not —è–≤–ª—è–µ—Ç—Å—è_–ª–∏_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_–∞–¥–º–∏–Ω–æ–º:
        await message.reply("üö´ <b>–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã</b>", parse_mode=ParseMode.HTML)
        return

    if not message.reply_to_message:
        await message.reply("üö´ <b>–≠—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ—Ç–≤–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞–∑–±–∞–Ω–∏—Ç—å</b>",
                            parse_mode=ParseMode.HTML)
        return

    id_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_—Ä–∞–∑–±–∞–Ω–∞ = message.reply_to_message.from_user.id
    –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_—Ä–∞–∑–±–∞–Ω–∞ = message.reply_to_message.from_user.username
    –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_—Ä–∞–∑–±–∞–Ω–∞_–æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ = message.reply_to_message.from_user.first_name

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ü–µ–ª—å —Ç–æ–∂–µ –∞–¥–º–∏–Ω–æ–º
    —è–≤–ª—è–µ—Ç—Å—è_–ª–∏_—Ü–µ–ª—å_–∞–¥–º–∏–Ω–æ–º = await is_admin(message.bot, message.chat.id, id_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_—Ä–∞–∑–±–∞–Ω–∞)
    if —è–≤–ª—è–µ—Ç—Å—è_–ª–∏_—Ü–µ–ª—å_–∞–¥–º–∏–Ω–æ–º:
        await message.reply("üö´ <b>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–¥–Ω–∞–∂–¥—ã —É–∂–µ –±—ã–ª –∑–∞–±–∞–Ω–µ–Ω –≤ —á–∞—Ç–µ, –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥ :(</b>",
                            parse_mode=ParseMode.HTML)
        return

    try:
        bot = message.bot
        await bot.unban_chat_member(
            chat_id=message.chat.id,
            user_id=id_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_—Ä–∞–∑–±–∞–Ω–∞
        )

        await message.reply(
            f"üõ°Ô∏è <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å <code>{–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_—Ä–∞–∑–±–∞–Ω–∞_–æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ}</code> (<code>@{–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_—Ä–∞–∑–±–∞–Ω–∞}</code>, ID: <code>{id_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_—Ä–∞–∑–±–∞–Ω–∞}</code>) –±—ã–ª —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–±–∞–Ω–µ–Ω –≤ —ç—Ç–æ–º —á–∞—Ç–µ</b>",
            parse_mode=ParseMode.HTML)

    except TelegramBadRequest as e:
        logging.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–∑–±–∞–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Ç–µ: {e}")
        await message.reply("üö´ <b>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–∑–±–∞–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Ç–µ. –í–æ–∑–º–æ–∂–Ω–æ, —É –±–æ—Ç–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤</b>",
                            parse_mode=ParseMode.HTML)
    except Exception as e:
        logging.exception(f"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–∑–±–∞–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {e}")
        await message.reply("üö´ <b>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–∑–±–∞–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</b>", parse_mode=ParseMode.HTML)


async def process_mmute_command(message: types.Message):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /mmute. –ú—É—Ç–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Ç–µ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Ç–≤–µ—Ç–∏–ª–∏, –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω—É—Ç.
    –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
    """

    —è–≤–ª—è–µ—Ç—Å—è_–ª–∏_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_–∞–¥–º–∏–Ω–æ–º = await is_admin(message.bot, message.chat.id, message.from_user.id)

    if not —è–≤–ª—è–µ—Ç—Å—è_–ª–∏_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_–∞–¥–º–∏–Ω–æ–º:
        await message.reply("üö´ <b>–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.</b>", parse_mode=ParseMode.HTML)
        return

    if not message.reply_to_message:
        await message.reply("üö´ <b>–≠—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ—Ç–≤–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–º—É—Ç–∏—Ç—å.</b>",
                            parse_mode=ParseMode.HTML)
        return

    id_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–º—É—Ç–∞ = message.reply_to_message.from_user.id
    –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–º—É—Ç–∞ = message.reply_to_message.from_user.username
    –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–º—É—Ç–∞_–æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ = message.reply_to_message.from_user.first_name

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ü–µ–ª—å —Ç–æ–∂–µ –∞–¥–º–∏–Ω–æ–º
    —è–≤–ª—è–µ—Ç—Å—è_–ª–∏_—Ü–µ–ª—å_–∞–¥–º–∏–Ω–æ–º = await is_admin(message.bot, message.chat.id, id_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–º—É—Ç–∞)
    if —è–≤–ª—è–µ—Ç—Å—è_–ª–∏_—Ü–µ–ª—å_–∞–¥–º–∏–Ω–æ–º:
        await message.reply("üö´ <b>–ù–µ–ª—å–∑—è –∑–∞–º—É—Ç–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.</b>", parse_mode=ParseMode.HTML)
        return

    try:
        —á–∞—Å—Ç–∏ = message.text.split()
        if len(—á–∞—Å—Ç–∏) < 2:
            await message.reply("üö´ <b>–ù–µ —É–∫–∞–∑–∞–Ω–æ –≤—Ä–µ–º—è –º—É—Ç–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:</b> <code>/mmute [–º–∏–Ω—É—Ç—ã]</code>",
                                parse_mode=ParseMode.HTML)
            return

        try:
            –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å_–º—É—Ç–∞_–≤_–º–∏–Ω—É—Ç–∞—Ö = int(—á–∞—Å—Ç–∏[1])
            if –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å_–º—É—Ç–∞_–≤_–º–∏–Ω—É—Ç–∞—Ö <= 0:
                await message.reply("üö´ <b>–í—Ä–µ–º—è –º—É—Ç–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º.</b>", parse_mode=ParseMode.HTML)
                return
        except ValueError:
            await message.reply("üö´ <b>–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ –º—É—Ç–∞. –£–∫–∞–∂–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –º–∏–Ω—É—Ç.</b>",
                                parse_mode=ParseMode.HTML)
            return

        bot = message.bot
        –≤—Ä–µ–º—è_–æ–∫–æ–Ω—á–∞–Ω–∏—è_–º—É—Ç–∞ = int(time.time()) + –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å_–º—É—Ç–∞_–≤_–º–∏–Ω—É—Ç–∞—Ö * 60

        —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è_–¥–ª—è_–º—É—Ç–∞ = types.ChatPermissions(
            can_send_messages=False,
            can_send_media_messages=False,
            can_send_polls=False,
            can_send_other_messages=False,
            can_add_web_page_previews=False
        )

        await bot.restrict_chat_member(
            chat_id=message.chat.id,
            user_id=id_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–º—É—Ç–∞,
            permissions=—Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è_–¥–ª—è_–º—É—Ç–∞,
            until_date=–≤—Ä–µ–º—è_–æ–∫–æ–Ω—á–∞–Ω–∏—è_–º—É—Ç–∞
        )

        await message.reply(
            f"‚úÖ <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å <code>{–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–º—É—Ç–∞_–æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ}</code> (<code>@{–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–º—É—Ç–∞}</code>, ID: <code>{id_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_–¥–ª—è_–º—É—Ç–∞}</code>) –±—ã–ª –∑–∞–º—É—á–µ–Ω –Ω–∞ <code>{–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å_–º—É—Ç–∞_–≤_–º–∏–Ω—É—Ç–∞—Ö}</code> –º–∏–Ω—É—Ç.</b>",
            parse_mode=ParseMode.HTML)

    except TelegramBadRequest as e:
        logging.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –º—É—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Ç–µ: {e}")
        await message.reply("üö´ <b>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –º—É—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Ç–µ. –í–æ–∑–º–æ–∂–Ω–æ, —É –±–æ—Ç–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤.</b>",
                            parse_mode=ParseMode.HTML)
    except Exception as e:
        logging.exception(f"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –º—É—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {e}")
        await message.reply("üö´ <b>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –º—É—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</b>", parse_mode=ParseMode.HTML)
